<template>
<div class="page">
	<div class="navbar">
		<div class="navbar-inner sliding">
			<div class="title">MiniQuad - Export move</div>
			<div class="right">
				<a href="/moves-edit/" class="link">Done</a>
			</div>
		</div>
	</div>
	<div class="page-content">
		<div class="block-title">Move json</div>
		<div class="list">
			<ul>
				<li class="item-content item-input item-input-wrap">
					<textarea class="resizable mq-json-import" id="mq-json-export"></textarea>
				</li>
			</ul>
		</div>
	</div>
	<div class="toolbar tabbar toolbar-bottom-md">
		<div class="toolbar-inner sliding">
			<a href="/home/" class="tab-link">
				<i class="icon f7-icons">paper_plane</i>
			</a>
			<a href="#moves" class="tab-link tab-link-active">
				<i class="icon f7-icons">data</i>
			</a>
			<a href="/settings/" class="tab-link">
				<i class="icon f7-icons">filter</i>
			</a>
		</div>
	</div>
</div>
</template>
<script>
return {
	on: {
		pageBeforeIn: function(e, page) {
			var query = page.route.query;
			var $ = this.$;
			var app = this.$app;
			var moveId = query.m;
			app.request.get("m" + moveId + ".json", function (data) {
				$("#mq-json-export").html(data);
			});
		}
	},
}
</script>
